<!DOCTYPE html>
<html ng-app="planinxyz">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Gallery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.10/css/perfect-scrollbar.css">
    <link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.9.0/loading-bar.min.css' type='text/css' media='all' />
    <link rel="stylesheet" href="css/style.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>  
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-sanitize.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-animate.js"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.10/js/perfect-scrollbar.js"></script>  
    <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.9.0/loading-bar.min.js'></script>
    <script src="./js/angulargrid.min.js"></script>  
    <script src="./js/app.js"></script>  
  </head>
  <body ng-controller="galleryController as vm">
    <div class="searchBar">
        <input type="search" id="search" ng-model="vm.searchPhoto" placeholder="Search by title..." />
    </div>
    <div ng-init="vm.getPhotos()" class="gallery dynamic-grid" ag-grid-width="vm.photoWidth" ag-gutter-size="0" angular-grid="vm.photos" ag-id="photos" ag-infinite-scroll="vm.getPhotos()">
          <div ng-click="vm.showMeDetails(photo)" class="photo" autoresize ng-repeat="photo in vm.photos">
            <div class="img" style="background-image: url({{::photo.images.normal}});"></div>
            <div class="overlay">
                <h1 class="title">
                    {{::photo.title}}
                </h1>  
            </div>  
          </div>
    </div>
    <div ng-show="vm.showDetails" class="popup-backdrop" ng-click="vm.showDetails = false;">
        <div class="close-popup">
            <a ng-click="vm.showDetails = false;">
                x
            </a>
        </div>
        <div class="popup" ng-click="vm.showDetails = true;">
            <h1>{{vm.selectedPhoto.title}}</h1>
            <div class="thumb" style="background-image:url('{{vm.selectedPhoto.images.teaser}}')">
                
            </div>
            <div class="desc" ng-bind-html="vm.selectedPhoto.description">
                
            </div>
            <div class="tags">
                <span class="tag" ng-repeat="tag in vm.selectedPhoto.tags">{{tag}}</span>
            </div>
        </div>   
    </div>
  </body>
</html>    